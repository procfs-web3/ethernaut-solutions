// SPDX-License-Identifier: MIT
pragma solidity ^0.6.0;

import "src/Exploit.sol";
import "src/Contract.sol";
import "forge-std/Test.sol";

contract ExploitTest is Test {

    Reentrance target;
    Exploit exploit;

    function setUp() public {
        target = new Reentrance();
        exploit = new Exploit(address(target));
        vm.deal(address(target), 0.001 ether);
    }

    function testExploit() public {
        exploit.fire{value: 0.001 ether}();
        assertEq(address(target).balance, 0);
    }
}